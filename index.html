<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta
            name="description"
            content="The map is not the territory but the pattern is the path."
        />
        <meta
            name="keywords"
            content="Software Architecture, Construct Software, Software Engineering, Designing Software, Building Software, Maintaining Software, Software Development, Growing Software,"
        />
        <meta name="author" content="Travis Burandt" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>WRANDTEL Integrated Solutions Laboratory</title>
        <link rel="stylesheet" href="./index.css" />
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <script src="https://unpkg.com/@pinecone-router/alpine@1.x.x/dist/pinecone-router-alpine.js"></script>
    </head>
    <body>
        <div
            x-data="{
                currentRoute: '/',
                navigateTo(route) {
                    this.currentRoute = route;
                    window.history.pushState({ route: route }, '', route); // Update URL
                    window.scrollTo({ top: 0, behavior: 'instant' }); // Scroll to top
                },
                loadTemplates() {
                    Promise.all([
                        fetch('/templates/header.html').then(response => response.text()),
                        fetch('/templates/divider.html').then(response => response.text()),
                        fetch('/templates/contact.html').then(response => response.text()),
                        fetch('/templates/footer.html').then(response => response.text())
                    ])
                    .then(templates => {
                        templates.forEach(html => document.getElementById('main-content').insertAdjacentHTML('beforeend', html));
                    });
                },
                showHome: true,
                showPortfolio: false,
                showHistory: false,
                showValues: false,
                showContact: false,
                switchVisible: function (route) {
                    this.showHome = route === '/';
                    this.showPortfolio = route === '/portfolio';
                    this.showHistory = route === '/history';
                    this.showValues = route === '/values';
                    this.showContact = route === '/contact';
                    console.log('showHome after switchVisible:', this.showHome);
                }
            }"
            x-init="
                loadTemplates();

                // Initial route from URL (if any)
                const initialRoute = window.location.pathname;
                console.log('Initial route:', initialRoute);
                navigateTo(initialRoute || '/');
                switchVisible(initialRoute || '/');

                // Listen for browser navigation events (back/forward buttons)
                window.addEventListener('popstate', (event) => {
                    const route = event.state ? event.state.route : '/';
                    currentRoute = route;
                    switchVisible(route);
                });

                $watch('currentRoute', (route) => {
                    console.log('$watch triggered, currentRoute:', route);
                    switchVisible(route);
                });
            "
        >
            <div id="main-content">
                <template x-if="showHome">
                    <div>
                        <div class="tv-container">
                            <div class="antenna-container">
                                <div class="antenna left"></div>
                                <div class="antenna right"></div>
                            </div>
                            <div class="tv-screen">
                                <div class="screen-content">
                                    <img
                                        src="/splash.jpg"
                                        alt="Rabbit balancing on a seesaw"
                                    />
                                    <div class="scanlines"></div>
                                    <div class="tv-reflection"></div>
                                </div>
                            </div>
                            <div class="power-light"></div>
                            <div class="tv-base">
                                <div class="speaker">
                                    <div class="speaker-hole"></div>
                                    <div class="speaker-hole"></div>
                                    <div class="speaker-hole"></div>
                                </div>
                                <div class="tv-brand">Wrandtel</div>
                                <div class="speaker">
                                    <div class="speaker-hole"></div>
                                    <div class="speaker-hole"></div>
                                    <div class="speaker-hole"></div>
                                </div>
                            </div>
                            <div class="tv-feet-container">
                                <div class="tv-foot"></div>
                                <div class="tv-foot"></div>
                            </div>
                        </div>
                        <br />
                        <br />
                        <br />
                        <div class="banner">
                            <div class="banner-subtitle">
                                COMBINING IDEATION, DELIVERY,<br />AND
                                MAINTENANCE
                            </div>
                            <div class="banner-title">
                                WIN BUSINESS OUTCOMES
                            </div>
                            <a
                                href="https://github.com/c-u-l8er"
                                target="_blank"
                                class="get-started-btn"
                            >
                                Open Source
                            </a>
                        </div>
                        <br />
                        <div class="notecards-container">
                            <div class="notecard">
                                <div class="notecard-title">OUR SERVICES</div>
                                <div class="notecard-body">
                                    We specialize in providing the innovative
                                    combination of the right resources, adapting
                                    technology, and optimizing processes all
                                    enabled through industry expertise and best
                                    in class delivery excellence along the side
                                    of maintainable balanceability.
                                    <br /><br />
                                    Our values plus proven methodologies and
                                    strategic approach drive sustainable growth
                                    and operational excellence.
                                </div>
                                <a
                                    href="/values"
                                    class="notecard-btn"
                                    @click.prevent="navigateTo('/values'); switchVisible('/values')"
                                >
                                    Learn About Our Values
                                </a>
                            </div>
                            <div class="notecard">
                                <div class="notecard-title">
                                    OUR VAST HISTORY
                                </div>
                                <div class="notecard-body">
                                    WRANDTEL is just the latest of our
                                    innovative companies, but we have a long
                                    history of providing services within a
                                    well-rounded range of technologies and
                                    industries.
                                    <br /><br />
                                    While our fundamental values have not
                                    changed, our goals have, but we have always
                                    been consistent on accelerating technical
                                    excellence, innovation, and truly
                                    differentiating business outcomes.
                                </div>
                                <a
                                    href="/history"
                                    class="notecard-btn"
                                    @click.prevent="navigateTo('/history'); switchVisible('/history')"
                                >
                                    Learn Our History
                                </a>
                            </div>
                        </div>
                        <br />
                        <br />
                        <br />
                        <div class="folder-container">
                            <div class="folder">
                                <div class="folder-title">Why WRANDTEL</div>
                                <div class="folder-body">
                                    WRANDTEL is a leading R&D business
                                    transformation integrated solutions
                                    laboratory that ships open source code
                                    dedicated to empowering organizations to win
                                    business outcomes. Our team of experts
                                    combines domain experience, industry
                                    knowledge, and technical acumen to drive
                                    ideation, deliver tangible results, and
                                    maintain homeostasis. We are committed to
                                    helping businesses navigate complex
                                    challenges and seize opportunities for
                                    successful health and longevity results.
                                </div>
                                <a
                                    href="/portfolio"
                                    class="folder-btn"
                                    @click.prevent="navigateTo('/portfolio'); switchVisible('/portfolio')"
                                >
                                    Discover Our Portfolio
                                </a>
                            </div>
                        </div>
                    </div>
                </template>
                <template x-if="showPortfolio">
                    <div>Portfolio Content</div>
                </template>
                <template x-if="showHistory">
                    <div>History Content</div>
                </template>
                <template x-if="showValues">
                    <div>Values Content</div>
                </template>
                <template x-if="showContact">
                    <div>Contact Content</div>
                </template>
            </div>
        </div>
    </body>
</html>
